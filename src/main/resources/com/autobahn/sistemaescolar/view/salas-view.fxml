<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.layout.Priority?>

<VBox prefHeight="720.0" prefWidth="1080.0" spacing="20.0"
      xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.autobahn.sistemaescolar.controller.SalaController"
      style="-fx-padding: 30;">

    <children>
        <Label styleClass="titulo-pagina" text="Salas" />

        <VBox spacing="10.0" style="-fx-background-color: #FFFFFF; -fx-padding: 20; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #E0E0E0;">
            <children>
                <Label text="Cadastrar Nova Sala">
                    <font><Font name="Segoe UI Bold" size="18.0" /></font>
                </Label>
                <HBox alignment="BOTTOM_LEFT" spacing="15.0">
                    <children>
                        <VBox>
                            <children>
                                <Label text="Nome da Sala" />
                                <TextField fx:id="txtNome" prefWidth="300.0" promptText="Ex: Sala 101" />
                            </children>
                        </VBox>
                        <VBox>
                            <children>
                                <Label text="Capacidade" />
                                <TextField fx:id="txtCapacidade" prefWidth="100.0" promptText="Ex: 30" />
                            </children>
                        </VBox>
                        <Button fx:id="btnCadastrar" mnemonicParsing="false" onAction="#handleCadastrar"
                                style="-fx-background-color: #1ABC9C; -fx-text-fill: white; -fx-font-weight: bold;"
                                text="Cadastrar" />
                    </children>
                </HBox>
                <Label fx:id="lblStatus" textFill="#e74c3c" />
            </children>
        </VBox>

        <SplitPane dividerPositions="0.4" VBox.vgrow="ALWAYS">
            <items>
                <VBox spacing="10.0" prefWidth="400.0">
                    <children>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <Label text="Salas Cadastradas">
                                    <font><Font name="Segoe UI Bold" size="18.0" /></font>
                                </Label>
                                <HBox HBox.hgrow="ALWAYS" /> <Button fx:id="btnDeletarSala" mnemonicParsing="false"
                                                                     onAction="#handleDeletarSala"
                                                                     style="-fx-background-color: #E74C3C; -fx-text-fill: white;"
                                                                     text="Deletar Sala" />
                            </children>
                        </HBox>

                        <TableView fx:id="tabelaSalas" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn fx:id="colNome" prefWidth="200.0" text="Nome" />
                                <TableColumn fx:id="colProfessor" prefWidth="150.0" text="Professor" />
                                <TableColumn fx:id="colCapacidade" prefWidth="100.0" text="Capacidade" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </children>
                </VBox>

                <VBox fx:id="painelDetalhes" spacing="15.0" style="-fx-padding: 0 0 0 20;"
                      disable="true"> <children>
                    <Label fx:id="lblNomeSalaDetalhe" text="Selecione uma sala"
                           style="-fx-font-size: 22; -fx-font-weight: bold;" />

                    <VBox spacing="5.0">
                        <children>
                            <Label text="Professor Responsável:">
                                <font><Font name="Segoe UI Bold" size="16.0" /></font>
                            </Label>
                            <HBox spacing="10.0" alignment="CENTER_LEFT">
                                <children>
                                    <ComboBox fx:id="cbProfessor" prefWidth="250.0"
                                              promptText="Selecione um professor..." />
                                    <Button fx:id="btnSalvarProfessor" mnemonicParsing="false"
                                            onAction="#handleSalvarProfessor" text="Salvar" />
                                </children>
                            </HBox>
                        </children>
                    </VBox>

                    <VBox spacing="10.0" VBox.vgrow="ALWAYS">
                        <children>
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <Label text="Alunos na Sala:">
                                        <font><Font name="Segoe UI Bold" size="16.0" /></font>
                                    </Label>
                                    <HBox HBox.hgrow="ALWAYS" /> <Button fx:id="btnRemoverAluno" mnemonicParsing="false"
                                                                         onAction="#handleRemoverAluno"
                                                                         style="-fx-background-color: #F39C12; -fx-text-fill: white;"
                                                                         text="Remover Aluno" />
                                </children>
                            </HBox>

                            <TableView fx:id="tabelaAlunosDaSala" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="colAlunoNome" prefWidth="300.0" text="Nome" />
                                    <TableColumn fx:id="colAlunoMatricula" prefWidth="150.0" text="Matrícula" />
                                </columns>
                                <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                </columnResizePolicy>
                            </TableView>
                        </children>
                    </VBox>
                </children>
                </VBox>
            </items>
        </SplitPane>
    </children>
</VBox>